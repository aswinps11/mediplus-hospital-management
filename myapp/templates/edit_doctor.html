
{% extends 'base.html' %}

{% block content %}
    <style>
        .main-content{
            display: flex;
            justify-content: center;
            align-items: center;
            padding-top: 30%;
            margin-top: 110px;
            height: 100vh;
            font-family:Arial, Helvetica, sans-serif;
        }

        .edit_doctor{
            background-color:white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgb(0, 0, 0,0.1);
            width: 700px;
        }

        .btn-purple{
            background-color: rgb(179, 0, 255);
            color: white;
            font-size: larger;
        }

        .btn-purple:hover{
            background-color :rgb(221, 0, 255);
            color: white;
            font-size: larger;
        }

        .btn-back{
            background-color: rgb(0, 179, 255);
            font-size: larger;
        }

        .btn-back a{
            color: white;
        }

        .btn-back:hover{
            background-color :rgb(0, 76, 255);
            font-size: larger;
        }


    </style>

    <div class="edit_doctor text-center">
        <h3 class="mb-4 fw-bold">Edit Doctor</h3>

        {% if error %}
            <div class="alert alert-danger py-2">{{ error }}</div>
        {% endif %}

        {% if msg %}
            <div class="alert alert-success py-2">{{ msg }}</div>
        {% endif %}

        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form-floating mb-3">
                <input type="text" class="form-control" name="name" value="{{doc.name}}" required>
                <label for="name">Name</label>
            </div>
            
            <div class="form-floating mb-3">
                <input type="text" class="form-control" name="specialization" value="{{doc.specialization}}" required>
                <label for="specialization">Specialization</label>
            </div>

            <div class="form-floating mb-3">
                <input type="email" class="form-control" name="email" value="{{doc.email}}" required>
                <label for="email">Email</label>
            </div>

            <div class="form-floating mb-3">
                <input type="tel" class="form-control" name="phone" value="{{doc.phone}}" required>
                <label for="phone">Phone</label>
            </div>

            <div class="form-floating mb-3">
                <input type="text" class="form-control" name="address" value="{{doc.address}}" required>
                <label for="address">Address</label>
            </div>

           
            {% if doc.image %}
                <div class="current-image mb-3">
                    <p>Current image:</p>
                    <img src="{{ doc.image.url }}" alt="Doctor Image" width="150" class="rounded shadow-sm">
                </div>
            {% else %}
                <p>No image available</p>
            {% endif %}

          
            <div class="form-floating mb-3">
                <input type="file" class="form-control" name="image">
                <label for="image" >Upload New Image (optional)</label>
            </div>

            <div class="mb-3">
                <textarea name="available_daysandtime" class="form-control" required>{{doc.available_daysandtime}}</textarea>
            </div>

            <div class="mb-3">
                <textarea name="biography" class="form-control"  rows="4" required>{{doc.biography}}</textarea>
            </div>

            <div class="mb-3">
                <textarea name="education" class="form-control"  rows="4" required>{{doc.education}}</textarea>
            </div>

            <button type="submit" class="btn btn-purple w-50 py-2 px-4 my-2">Submit</button>
            <a href="{% url 'doctor_list' %}" class="btn btn-back w-50 py-2 px-3 text-white text-decoration-none">Back</a>
        </form>

        <p class="mt-3">view doctors list? <a href="{% url 'doctor_list' %}" class="text-decoration-none text-purple">Doctors list</a></p>


    </div>

{% endblock %}
